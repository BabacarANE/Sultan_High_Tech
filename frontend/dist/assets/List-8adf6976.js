import{a as L}from"./axios-9cbf0d09.js";import{_ as C,r,o as q,b as d,c as u,d as p,e as t,f as l,g as b,F as S,j,n as F,t as n,s as P,v as I}from"./index-96009e84.js";const w=_=>(P("data-v-84eba31c"),_=_(),I(),_),$={class:"grid"},E={class:"col-12"},H={class:"card"},T=w(()=>t("h5",null,"DataView",-1)),U={class:"grid grid-nogutter"},z={class:"col-6 text-left"},K={class:"col-6 text-right"},M={class:"grid grid-nogutter"},R={class:"surface-50 flex justify-content-center border-round p-3"},A={class:"relative mx-auto"},G=["src","alt"],J={class:"flex flex-column md:flex-row justify-content-between md:align-items-center flex-1 gap-4"},Q={class:"flex flex-row md:flex-column justify-content-between align-items-start gap-2"},W={class:"font-medium text-secondary text-sm"},X={class:"text-lg font-medium text-900 mt-2"},Y={class:"surface-100 p-1",style:{"border-radius":"30px"}},Z={class:"surface-0 flex align-items-center gap-2 justify-content-center py-1 px-2",style:{"border-radius":"30px","box-shadow":"0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 1px 2px 0px rgba(0, 0, 0, 0.06)"}},tt={class:"text-900 font-medium text-sm"},et=w(()=>t("i",{class:"pi pi-star-fill text-yellow-500"},null,-1)),st={class:"flex flex-column md:align-items-end gap-5"},ot={class:"text-xl font-semibold text-900"},at={class:"flex flex-row-reverse md:flex-row gap-2"},lt={class:"grid grid-nogutter"},nt={class:"p-4 border-1 surface-border surface-card border-round flex flex-column"},it={class:"surface-50 flex justify-content-center border-round p-3"},rt={class:"relative mx-auto"},ct=["src","alt"],dt={class:"pt-4"},ut={class:"flex flex-row justify-content-between align-items-start gap-2"},pt={class:"font-medium text-secondary text-sm"},_t={class:"text-lg font-medium text-900 mt-1"},xt={class:"surface-100 p-1",style:{"border-radius":"30px"}},vt={class:"surface-0 flex align-items-center gap-2 justify-content-center py-1 px-2",style:{"border-radius":"30px","box-shadow":"0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 1px 2px 0px rgba(0, 0, 0, 0.06)"}},ft={class:"text-900 font-medium text-sm"},gt=w(()=>t("i",{class:"pi pi-star-fill text-yellow-500"},null,-1)),mt={class:"flex flex-column gap-4 mt-4"},ht={class:"text-2xl font-semibold text-900"},yt={class:"flex gap-2"},bt={__name:"List",setup(_){const V=r([]),m=r("grid"),x=r(null),h=r(null),y=r(null),B=r([{label:"Price High to Low",value:"!prix"},{label:"Price Low to High",value:"prix"}]),D=async()=>{try{const i=(await L.get("http://127.0.0.1:8000/api/products")).data.map(async c=>{const v=await L.get(`http://127.0.0.1:8000/api/categories/${c.category_id}`);return c.categoryName=v.data.name,c});V.value=await Promise.all(i)}catch(o){console.error("Error fetching products:",o)}};q(()=>{D()});const N=o=>{const s=o.value.value,i=o.value;s.indexOf("!")===0?(h.value=-1,y.value=s.substring(1,s.length),x.value=i):(h.value=1,y.value=s,x.value=i)},k=o=>o.quantite_en_stock>10?"success":o.quantite_en_stock<=10&&o.quantite_en_stock>0?"warning":"danger";return(o,s)=>{const i=d("Dropdown"),c=d("DataViewLayoutOptions"),v=d("Tag"),f=d("Button"),O=d("DataView");return u(),p("div",$,[t("div",E,[t("div",H,[T,l(O,{value:V.value,layout:m.value,paginator:!0,rows:9,sortOrder:h.value,sortField:y.value},{header:b(()=>[t("div",U,[t("div",z,[l(i,{modelValue:x.value,"onUpdate:modelValue":s[0]||(s[0]=a=>x.value=a),options:B.value,optionLabel:"label",placeholder:"Sort By Price",onChange:s[1]||(s[1]=a=>N(a))},null,8,["modelValue","options"])]),t("div",K,[l(c,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=a=>m.value=a)},null,8,["modelValue"])])])]),list:b(a=>[t("div",M,[(u(!0),p(S,null,j(a.items,(e,g)=>(u(),p("div",{key:g,class:"col-12"},[t("div",{class:F(["flex flex-column sm:flex-row sm:align-items-center p-4 gap-3",{"border-top-1 surface-border":g!==0}])},[t("div",R,[t("div",A,[t("img",{class:"border-round fixed-image",src:`http://127.0.0.1:8000/storage/${e.photo}`,alt:e.nom},null,8,G),l(v,{value:e.inventoryStatus,severity:k(e),class:"absolute",style:{left:"4px",top:"4px"}},null,8,["value","severity"])])]),t("div",J,[t("div",Q,[t("div",null,[t("span",W,n(e.categoryName),1),t("div",X,n(e.nom),1)]),t("div",Y,[t("div",Z,[t("span",tt,n(e.rating),1),et])])]),t("div",st,[t("span",ot,n(e.prix),1),t("div",at,[l(f,{icon:"pi pi-shopping-cart",outlined:""}),l(f,{icon:"pi pi-shopping-cart",label:"Buy Now",disabled:e.quantite_en_stock===0,class:"flex-auto md:flex-initial white-space-nowrap"},null,8,["disabled"])])])])],2)]))),128))])]),grid:b(a=>[t("div",lt,[(u(!0),p(S,null,j(a.items,(e,g)=>(u(),p("div",{key:g,class:"col-12 sm:col-6 md:col-4 p-2"},[t("div",nt,[t("div",it,[t("div",rt,[t("img",{class:"border-round w-full",src:`http://127.0.0.1:8000/storage/${e.photo}`,alt:e.nom,style:{"max-width":"200px"}},null,8,ct),l(v,{value:e.inventoryStatus,severity:k(e),class:"absolute",style:{left:"4px",top:"4px"}},null,8,["value","severity"])])]),t("div",dt,[t("div",ut,[t("div",null,[t("span",pt,n(e.categoryName),1),t("div",_t,n(e.nom),1)]),t("div",xt,[t("div",vt,[t("span",ft,n(e.rating),1),gt])])]),t("div",mt,[t("span",ht,n(e.prix),1),t("div",yt,[l(f,{icon:"pi pi-shopping-cart",label:"Buy Now",disabled:e.quantite_en_stock===0,class:"flex-auto white-space-nowrap"},null,8,["disabled"]),l(f,{icon:"pi pi-heart",outlined:""})])])])])]))),128))])]),_:1},8,["value","layout","sortOrder","sortField"])])])])}}},kt=C(bt,[["__scopeId","data-v-84eba31c"]]);export{kt as default};
