import{_ as V,u as I,r as d,C as S,I as C,J as P,b as c,c as h,d as v,e,K as B,f as l,t as L,k as U,F as T,H as j,s as E,v as F}from"./index-96009e84.js";import{a as M}from"./axios-9cbf0d09.js";const t=n=>(E("data-v-5c4ed6d6"),n=n(),F(),n),N={class:"surface-ground flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},R={class:"flex flex-column align-items-center justify-content-center"},$={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},A={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},D={class:"text-center mb-5"},H=["src"],J=t(()=>e("div",{class:"text-900 text-3xl font-medium mb-3"},"Welcome",-1)),K=t(()=>e("span",{class:"text-600 font-medium"},"Sign in to continue",-1)),W=t(()=>e("label",{for:"email1",class:"block text-900 text-xl font-medium mb-2"},"Email",-1)),q=t(()=>e("label",{for:"password1",class:"block text-900 font-medium text-xl mb-2"},"Password",-1)),z={class:"flex align-items-center justify-content-between mb-5 gap-5"},G={class:"flex align-items-center"},O=t(()=>e("label",{for:"rememberme1"},"Remember me",-1)),Q=t(()=>e("a",{class:"font-medium no-underline ml-2 text-right cursor-pointer",style:{color:"var(--primary-color)"}},"Forgot password?",-1)),X={key:0,class:"mt-3 text-red-500"},Y={__name:"Login",setup(n){const{layoutConfig:x}=I(),u=d(""),m=d(""),g=d(!1),r=d(""),b=S(()=>`/layout/images/${x.darkTheme.value?"logo-white":"logo-dark"}.svg`),f=C(),p=P(),y=async()=>{try{const o=await M.post("http://127.0.0.1:8000/api/login",{email:u.value,password:m.value}),{token:s,user:i,client:_}=o.data;localStorage.setItem("token",s),p.dispatch("user/setToken",s),p.dispatch("user/setUser",i),p.dispatch("user/setClient",_),i.role_id===1?f.push({path:"/"}):f.push({path:"/uikit/list"})}catch(o){o.response&&o.response.status===401?r.value="Invalid credentials. Please try again.":r.value="An error occurred. Please try again later."}};return(o,s)=>{const i=c("InputText"),_=c("Password"),w=c("Checkbox"),k=c("Button");return h(),v(T,null,[e("div",N,[e("div",R,[e("div",$,[e("div",A,[e("div",D,[e("img",{src:b.value,alt:"Image",height:"50",class:"mb-3"},null,8,H),J,K]),e("form",{onSubmit:B(y,["prevent"])},[W,l(i,{id:"email1",type:"text",placeholder:"Email address",class:"w-full md:w-30rem mb-5",style:{padding:"1rem"},modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=a=>u.value=a)},null,8,["modelValue"]),q,l(_,{id:"password1",modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=a=>m.value=a),placeholder:"Password",toggleMask:!0,class:"w-full mb-3",inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["modelValue"]),e("div",z,[e("div",G,[l(w,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=a=>g.value=a),id:"rememberme1",binary:"",class:"mr-2"},null,8,["modelValue"]),O]),Q]),l(k,{label:"Sign In",class:"w-full p-3 text-xl",type:"submit"}),r.value?(h(),v("div",X,L(r.value),1)):U("",!0)],32)])])])]),l(j,{simple:""})],64)}}},se=V(Y,[["__scopeId","data-v-5c4ed6d6"]]);export{se as default};
